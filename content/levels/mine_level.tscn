[gd_scene load_steps=8 format=3 uid="uid://c3vvjn5sdswc7"]

[ext_resource type="Script" uid="uid://brlnj23cak2oo" path="res://content/levels/mine_level.gd" id="1_script"]
[ext_resource type="PackedScene" uid="uid://c21h7xdvxtl7w" path="res://content/player/player.tscn" id="2_player"]
[ext_resource type="TileSet" uid="uid://t0dbegvgf6qh" path="res://test_stuff/tileset_test.tres" id="2_tk80j"]
[ext_resource type="Script" uid="uid://cvcqkqqvotbgb" path="res://content/world/mine_tilemap.gd" id="3_tilemap"]
[ext_resource type="PackedScene" uid="uid://cr3qxj5wg2oj6" path="res://content/inventory/inventory_ui.tscn" id="4_inventory"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_exit"]
size = Vector2(32, 32)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_oxygen"]
bg_color = Color(0.2, 0.6, 0.9, 1)

[node name="MineLevel" type="Node2D"]
script = ExtResource("1_script")

[node name="Background" type="ColorRect" parent="."]
offset_left = -100.0
offset_top = -100.0
offset_right = 900.0
offset_bottom = 1100.0
color = Color(0.1, 0.08, 0.12, 1)

[node name="MineTilemap" type="TileMapLayer" parent="."]
tile_set = ExtResource("2_tk80j")
script = ExtResource("3_tilemap")

[node name="OreTilemap" type="TileMapLayer" parent="MineTilemap"]
tile_set = ExtResource("2_tk80j")

[node name="FogTilemap" type="TileMapLayer" parent="MineTilemap"]
tile_set = ExtResource("2_tk80j")

[node name="Player" parent="." instance=ExtResource("2_player")]
position = Vector2(320, -22)
jump_velocity = -270.0
pickaxe_range = 16.0

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="DepositBox" type="Node2D" parent="."]
position = Vector2(280, -16)

[node name="Sprite" type="ColorRect" parent="DepositBox"]
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 16.0
color = Color(0.8, 0.6, 0.2, 1)

[node name="Label" type="Label" parent="DepositBox"]
offset_left = -30.0
offset_top = -40.0
offset_right = 30.0
offset_bottom = -20.0
text = "DEPOSIT"
horizontal_alignment = 1

[node name="Area2D" type="Area2D" parent="DepositBox"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="DepositBox/Area2D"]
position = Vector2(0, -0.5)
shape = SubResource("RectangleShape2D_exit")

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="InventoryUI" parent="UILayer" instance=ExtResource("4_inventory")]
visible = false

[node name="DeadlineBar" type="ProgressBar" parent="UILayer"]
offset_left = 20.0
offset_top = 20.0
offset_right = 220.0
offset_bottom = 40.0
theme_override_styles/fill = SubResource("StyleBoxFlat_oxygen")
max_value = 300.0
value = 300.0
show_percentage = false

[node name="DeadlineLabel" type="Label" parent="UILayer"]
offset_left = 20.0
offset_top = 45.0
offset_right = 120.0
offset_bottom = 68.0
text = "Time: 5:00"

[node name="EarningsLabel" type="Label" parent="UILayer"]
offset_left = 20.0
offset_top = 75.0
offset_right = 220.0
offset_bottom = 98.0
text = "Earnings: $0"

[node name="GoalLabel" type="Label" parent="UILayer"]
offset_left = 20.0
offset_top = 100.0
offset_right = 220.0
offset_bottom = 123.0
text = "Goal: $500"
