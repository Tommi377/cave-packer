[gd_scene load_steps=15 format=3 uid="uid://c3vvjn5sdswc7"]

[ext_resource type="Script" uid="uid://brlnj23cak2oo" path="res://content/levels/mine_level.gd" id="1_script"]
[ext_resource type="PackedScene" uid="uid://c21h7xdvxtl7w" path="res://content/player/player.tscn" id="2_player"]
[ext_resource type="TileSet" uid="uid://t0dbegvgf6qh" path="res://test_stuff/tileset_test.tres" id="2_tk80j"]
[ext_resource type="Script" uid="uid://cvcqkqqvotbgb" path="res://content/world/mine_tilemap.gd" id="3_tilemap"]
[ext_resource type="PackedScene" uid="uid://cr3qxj5wg2oj6" path="res://content/inventory/inventory_ui.tscn" id="4_inventory"]
[ext_resource type="Texture2D" uid="uid://cwckx568u6hwr" path="res://cave.png" id="5_tk80j"]

[sub_resource type="AtlasTexture" id="AtlasTexture_etpyw"]
atlas = ExtResource("5_tk80j")
region = Rect2(0, 96, 32, 16)

[sub_resource type="LabelSettings" id="LabelSettings_3rynn"]
font_size = 18

[sub_resource type="LabelSettings" id="LabelSettings_tk80j"]
font_size = 12

[sub_resource type="LabelSettings" id="LabelSettings_pa5op"]
font_size = 12
font_color = Color(0.5686275, 0.85882354, 0.4117647, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_exit"]
size = Vector2(32, 32)

[sub_resource type="LabelSettings" id="LabelSettings_7d71p"]
font_size = 24
outline_size = 8
outline_color = Color(0.5882353, 0.42352942, 0.42352942, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_oxygen"]
bg_color = Color(0.2, 0.6, 0.9, 1)

[sub_resource type="LabelSettings" id="LabelSettings_etpyw"]
font_size = 18

[node name="MineLevel" type="Node2D"]
script = ExtResource("1_script")

[node name="Background" type="ColorRect" parent="."]
offset_left = -100.0
offset_top = -497.0
offset_right = 900.0
offset_bottom = 1100.0
color = Color(0.1, 0.08, 0.12, 1)

[node name="MineTilemap" type="TileMapLayer" parent="."]
tile_set = ExtResource("2_tk80j")
script = ExtResource("3_tilemap")

[node name="OreTilemap" type="TileMapLayer" parent="MineTilemap"]
tile_map_data = PackedByteArray(0, 0, 18, 0, 1, 0, 0, 0, 1, 0, 4, 0, 0, 0, 19, 0, 1, 0, 0, 0, 1, 0, 4, 0, 0, 0, 20, 0, 1, 0, 0, 0, 1, 0, 4, 0, 0, 0, 21, 0, 1, 0, 0, 0, 0, 0, 4, 0, 0, 0)
tile_set = ExtResource("2_tk80j")

[node name="DamageTilemap" type="TileMapLayer" parent="MineTilemap"]
tile_set = ExtResource("2_tk80j")

[node name="FogTilemap" type="TileMapLayer" parent="MineTilemap"]
tile_set = ExtResource("2_tk80j")

[node name="Player" parent="." instance=ExtResource("2_player")]
position = Vector2(320, -22)
jump_velocity = -270.0
pickaxe_range = 16.0

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="DepositBox" type="Node2D" parent="."]
position = Vector2(280, -13)

[node name="Sprite" type="ColorRect" parent="DepositBox"]
visible = false
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 16.0
color = Color(0.8, 0.6, 0.2, 1)

[node name="Sprite2D" type="Sprite2D" parent="DepositBox"]
position = Vector2(0, 8)
texture = SubResource("AtlasTexture_etpyw")

[node name="Label" type="Label" parent="DepositBox"]
offset_left = -42.0
offset_top = -34.0
offset_right = 42.0
offset_bottom = -14.0
text = "DEPOSIT"
label_settings = SubResource("LabelSettings_3rynn")
horizontal_alignment = 1

[node name="PressELabel" type="Label" parent="DepositBox/Label"]
visible = false
layout_mode = 0
offset_left = 1.0
offset_top = 20.0
offset_right = 85.0
offset_bottom = 40.0
text = "Press E"
label_settings = SubResource("LabelSettings_tk80j")
horizontal_alignment = 1

[node name="ProfitLabel" type="Label" parent="DepositBox/Label"]
visible = false
layout_mode = 0
offset_left = -35.0
offset_top = -16.0
offset_right = 113.0
offset_bottom = 4.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
text = "+$200"
label_settings = SubResource("LabelSettings_pa5op")
horizontal_alignment = 1

[node name="Area2D" type="Area2D" parent="DepositBox"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="DepositBox/Area2D"]
position = Vector2(0, -0.5)
shape = SubResource("RectangleShape2D_exit")

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="InventoryUI" parent="UILayer" instance=ExtResource("4_inventory")]
unique_name_in_owner = true
visible = false

[node name="VBoxContainer" type="VBoxContainer" parent="UILayer"]
offset_left = 16.0
offset_top = 16.0
offset_right = 221.0
offset_bottom = 115.0
theme_override_constants/separation = 10

[node name="DayLabel" type="Label" parent="UILayer/VBoxContainer"]
layout_mode = 2
text = "Day 100"
label_settings = SubResource("LabelSettings_7d71p")

[node name="HBoxContainer" type="HBoxContainer" parent="UILayer/VBoxContainer"]
layout_mode = 2

[node name="EndDayButton" type="Button" parent="UILayer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "End
Day"

[node name="VBoxContainer" type="VBoxContainer" parent="UILayer/VBoxContainer/HBoxContainer"]
layout_mode = 2

[node name="DeadlineBar" type="ProgressBar" parent="UILayer/VBoxContainer/HBoxContainer/VBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(0, 20)
layout_mode = 2
theme_override_styles/fill = SubResource("StyleBoxFlat_oxygen")
max_value = 300.0
value = 300.0
show_percentage = false

[node name="DeadlineLabel" type="Label" parent="UILayer/VBoxContainer/HBoxContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Time: 5:00"
label_settings = SubResource("LabelSettings_etpyw")

[node name="EarningsLabel" type="Label" parent="UILayer/VBoxContainer/HBoxContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Earnings: $0"
label_settings = SubResource("LabelSettings_etpyw")
